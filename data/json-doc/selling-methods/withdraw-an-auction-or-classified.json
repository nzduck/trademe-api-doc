{
  "endpoint": "WithdrawAnAuctionOrClassified",
  "title": "Withdraw an auction or classified",
  "description": "Withdraw a listing from Trade Me for either being sold or unsold.",
  "source": "https://developer.trademe.co.nz/api-reference/selling-methods/withdraw-an-auction-or-classified",
  "url": "https://api.trademe.co.nz/v1/Selling/Withdraw.{file_format}",
  "method": "POST",
  "authentication_required": true,
  "permission_required": "MyTradeMeWrite: Maintain your watchlist, answer questions and post comments.",
  "rate_limited": true,
  "supported_formats": [
    "XML",
    "JSON"
  ],
  "parameters": {
    "path": [
      {
        "name": "file_format",
        "type": "Enumeration (required)",
        "required": true,
        "description": "The format of the response.",
        "enum": [
          {
            "name": "xml",
            "value": "xml",
            "description": "Serialize responses into XML."
          },
          {
            "name": "json",
            "value": "json",
            "description": "Serialize responses into JSON."
          }
        ]
      }
    ],
    "query": []
  },
  "request_body": {
    "type": "<WithdrawRequest>",
    "fields": [
      {
        "name": "ListingId",
        "type": "Integer (required)",
        "required": true,
        "description": "The ID of the listing that is being withdrawn, relisted or extended."
      },
      {
        "name": "ReturnListingDetails",
        "type": "Boolean (optional)",
        "required": false,
        "description": "Indicates whether full listing details should be returned in the Listing field."
      },
      {
        "name": "Type",
        "type": "Enumeration (required)",
        "required": true,
        "description": "Indicates whether this withdrawl request is for a listing that sold or not."
      },
      {
        "name": "Reason",
        "type": "String (optional)",
        "required": false,
        "description": "The reason for withdrawing the listing, if the listing has not sold. Max 255 characters."
      },
      {
        "name": "SalePrice",
        "type": "Number (optional)",
        "required": false,
        "description": "The amount the listing sold for, if the listing has sold."
      }
    ]
  },
  "returns": {
    "type": null,
    "description": "<ListingResponse>",
    "fields": [
      {
        "name": "Success",
        "type": "Boolean",
        "required": false,
        "description": "Indicates whether the operation was successful."
      },
      {
        "name": "Description",
        "type": "String or null",
        "required": false,
        "description": "The description of the error, if the operation failed."
      },
      {
        "name": "ListingId",
        "type": "Integer",
        "required": false,
        "description": "The ID of the listing."
      },
      {
        "name": "Listing",
        "type": "<ListedItemDetail> or null",
        "required": false,
        "description": "The state of the listing, after the listing operation has successfully completed. This field is only present if the ReturnListingDetails parameter is true and the operation was successful. This field will also be missing if there was an error retrieving the listing details. For more information on this field, see the documentation for the listing details API."
      }
    ]
  },
  "examples": {
    "request_json": {
      "ListingId": 123,
      "ReturnListingDetails": false,
      "Type": 1,
      "Reason": "ABC",
      "SalePrice": 123.0
    },
    "response_json": "{\n  \"Success\": false,\n  \"Description\": \"ABC\",\n  \"ListingId\": 123,\n  \"Listing\": { ... }\n}"
  }
}